<!DOCTYPE html>
<html>
<head>
	<link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png">
	<meta name="theme-color" content="#ffffff">

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link href="https://fonts.googleapis.com/css?family=Monoton|Press+Start+2P" rel="stylesheet">
	<link href="style.css" rel="stylesheet">

	<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/86/three.min.js"></script>

	<script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-database.js"></script>
	<script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-analytics.js"></script>

	<title>Online Racing Game!</title>
</head>

<body>

<!-- TRACK DATA -->
<div id="trackcode" class="data">
1,5/0,7 0,7/-1,8 -1,8/-3,9 -3,9/-7,9 -7,9/-9,8 -9,8/-10,7 -10,7/-11,5 |-1,3/1,3 |-7,5 -5,6 -4,5 | |
</div>

<div id="fore">
	<div id="version">v1.1.3.14</div>
	<div class="title" id="title">Online Racing Game!</div>

	<div class="menuitem title">
		Pick a name:<br/>
		<input id="name" class="title" placeholder="Name">
	</div>

	<script>
		var color, updateColor, menu2, host, joinGame, codeCheck;
	</script>

	<div class="menuitem title">
		Choose a color:<br/>
		<div id="colorpicker">
			<div id="slider"></div>
		</div>
	</div>

	<div class="menuitem title">
		<div id="start" onclick="menu2()">Start!</div>
	</div>

	<!-- MAP UI -->
	<div id="mapUI" style="position:fixed; bottom:20px; left:20px; background:#777; padding:12px; border-radius:8px; font-family:'Press Start 2P'; font-size:12px;">
		MAP:<br>
		<span id="mapName">Starter Map</span><br><br>
		<button id="prevmap">◀</button>
		<button id="randmap">RANDOM</button>
		<button id="nextmap">▶</button>
	</div>

</div>

<script>
window.addEventListener("load", function () {

	const trackEl = document.getElementById("trackcode");

	const MAPS = [
		{
			name: "Starter Map",
			data: trackEl.textContent.trim()
		},
		{
			name: "Grand Ring",
			data: "-14,-12/14,-12 14,-12/14,12 14,12/-14,12 -14,12/-14,-12 | -2,2/2,2 -2,-8/2,-8 | | |"
		},
		{
			name: "Grid",
			data: "-12,-10/12,-10 12,-10/12,10 12,10/-12,10 -12,10/-12,-10 -2,-10/-2,10 2,-10/2,10 | -2,0/2,0 -2,-8/2,-8 | | |"
		},
		{
			name: "Snake",
			data: "-14,-10/14,-10 14,-10/14,10 14,10/-14,10 -14,10/-14,-10 -10,4/10,4 -10,-4/10,-4 | -2,4/2,4 -2,-8/2,-8 | | |"
		},
		{
			name: "Cross",
			data: "-12,-12/12,-12 12,-12/12,12 12,12/-12,12 -12,12/-12,-12 -2,-12/-2,12 2,-12/2,12 -12,-2/12,-2 -12,2/12,2 | -3,0/3,0 -3,-10/3,-10 | | |"
		}
	];

	let index = 0;

	function applyMap(i){
		index = (i + MAPS.length) % MAPS.length;
		trackEl.textContent = MAPS[index].data;
		document.getElementById("mapName").textContent = MAPS[index].name;
	}

	document.getElementById("prevmap").onclick = () => applyMap(index - 1);
	document.getElementById("nextmap").onclick = () => applyMap(index + 1);
	document.getElementById("randmap").onclick = () => applyMap(Math.floor(Math.random()*MAPS.length));

});
</script>

<script src="script.js"></script>
</body>
</html>
